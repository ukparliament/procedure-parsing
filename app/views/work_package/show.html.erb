
<h1>Work Package: <%= @work_package.triple_store_id %></h1>

<%= "#{link_to( 'Instrument', @work_package.web_link )} subject to the #{link_to( @work_package.parliamentary_procedure.name, procedure_show_url( :procedure => @work_package.parliamentary_procedure ) )} procedure.".html_safe %>

<h2>Things that have happened</h2>
<p>Steps actualised by with business items having a date in the past, or today.</p>

<section>
	<%= render :partial => 'business_item/business_item', :collection => @work_package.business_items_that_have_happened %>
</section>

<h2>Things that are scheduled to happen</h2>
<p>Steps actualised with business items having a date in the future.</p>
<%- if @work_package.business_items_that_are_scheduled_to_happen.length > 0 %>

<section>
	<%= render :partial => 'business_item/business_item', :collection => @work_package.business_items_that_are_scheduled_to_happen %>
</section>
<% else %>
  <em>There are no steps with these attributes.</em>
<% end %>

<h2>Things that may have happened or may be scheduled to happen</h2>
<p>Steps actualised with business items having no date.</p>

<section>
	<%= render :partial => 'business_item/business_item', :collection => @work_package.business_items_unknown %>
</section>

<h2>Things that should happen</h2>
<p>Steps with an input of <code>TRUE</code> once the procedure map has been parsed.</p>
<%- if @allowed_steps.length > 0 %>
<section>
	<%= render :partial => 'step/step', :collection => @caused_steps %>
</section>
<% else %>
  <em>There are no steps with these attributes.</em>
<% end %>
<h2>Things that may happen</h2>
<p>Steps with an input of <code>ALLOWS</code> once the procedure map has been parsed.</p>

<%- if @allowed_steps.length > 0 %>
<section>
	<%= render :partial => 'step/step', :collection => @allowed_steps %>
</section>
<% else %>
  <em>There are no steps with these attributes.</em>
<% end %>

<h2>Things that should not now happen</h2>
<p>Steps with an input of <code>UNTRAVSERSABLE</code> once the procedure map has been parsed.</p>

<%- if @disallowed_now_steps.length > 0 %>

<section>
	<%= render :partial => 'step/step', :collection => @disallowed_now_steps %>
</section>
<% else %>
  <em>There are no steps with these attributes.</em>
<% end %>

<h2>Things that should not yet happen</h2>
<p>Steps with an input of <code>NULL</code> or <code>FALSE</code> once the procedure map has been parsed.</p>

<%- if @disallowed_yet_steps.length > 0 %>

<section>
	<%= render :partial => 'step/step', :collection => @disallowed_yet_steps %>
</section>

  <% else %>
  <em>There are no steps with these attributes.</em>
<% end %>